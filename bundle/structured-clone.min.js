!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.StructuredClone=r():e.StructuredClone=r()}(this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=2)}([function(e,r,t){const n=t(5).default,o=t(1).default;var u;try{u=t(6).AssertionError}catch(e){}r.error2object=function(e){return Object.assign(n(e,["name","message","stack"]),e)},r.object2error=function(e){let r,t=["name","message","stack"];r="AssertionError"===e.name&&u?Object.create(u.prototype):Object.create((o(e.name)||Error).prototype);Object.defineProperties(r,{message:{value:e.message,configurable:!0,writable:!0},stack:{value:e.stack,configurable:!0,writable:!0}});for(let n in e)t.includes(n)||(r[n]=e[n]);return r},r.walkToJSON=function(e){for(;null!=e&&"function"==typeof e.toJSON;)e=e.toJSON();return e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){let r;return"object"==typeof self?r=self:"object"==typeof global?r=global:"object"==typeof window&&(r=window),r&&(e?r[e]:r)}},function(e,r,t){t(3);const{createComposer:n}=t(4),{createDecomposer:o}=t(7),u=/^\[\[[A-Z][a-zA-Z0-9_]+\]\]$/;Object.assign(r,{createComposer:n,createDecomposer:o}),r.compose=r.clone=n((e,r)=>[`[[${e}]]`,r]),r.decompose=r.declone=o(e=>({type:String(e[0]).slice(2,-2),value:e[1]}),e=>Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&u.test(e[0])),r.serialize=function(e){return JSON.stringify(r.compose(e))},r.deserialize=function(e){return r.decompose(JSON.parse(e))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0})},function(e,r,t){const{error2object:n,object2error:o,walkToJSON:u}=t(0);r.createComposer=function(e){return function r(t,o=!1,i=[]){let a=typeof t;if("function"!==a||o||(a=typeof(t=u(t))),null==t||"function"===a||"symbol"===a)return null===t?null:void 0;if("bigint"===a)return o?t:e("BigInt",String(t));if("number"===a)return isNaN(t)||!isFinite(t)?o?t:e("Number",String(t)):t;if("object"===a){if(i.includes(t))return;if(t instanceof Boolean)return o?t:e("Boolean",t.valueOf());if(t instanceof Number)return o?t:e("Number",t.valueOf());if(t instanceof String)return o?t:e("String",t.valueOf());if(t instanceof Date)return o?t:e("Date",t.toISOString());if(t instanceof RegExp)return o?t:e("RegExp",String(t));if(t instanceof ArrayBuffer)return o?t:e("ArrayBuffer",[...new Uint8Array(t)]);if(t instanceof DataView)return o?t:e("DataView",[...new Uint8Array(t.buffer)]);if(ArrayBuffer.isView(t))return o?t:e(t.constructor.name,[...t]);if(t instanceof Map){let n=o?new Map:[];return t.forEach((e,u)=>{void 0!==(u=r(u,o,[...i,t]))&&(e=r(e,o,[...i,t]),o?n.set(u,e):n.push([u,e]))}),o?n:e("Map",n)}if(t instanceof Set){let n=o?new Set:[];return t.forEach(e=>{void 0!==(e=r(e,o,[...i,t]))&&(o?n.add(e):n.push(e))}),o?n:e("Set",n)}if(t instanceof Error)return e("Error",r(n(t),o,[...i,t]));if(o||"object"==typeof(t=u(t))){if(Array.isArray(t))return t.map(e=>r(e,o,[...i,t]));{let e=Object.getPrototypeOf(t);return o&&null!==e&&e!==Object.prototype?t:Object.keys(t).reduce((e,n)=>{let u=r(t[n],o,[...i,t]);return void 0!==u&&(e[n]=u),e},{})}}return r(t,o,[...i,t])}return t}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e,r){return Array.isArray(e)?r.map(r=>e[r]):r.reduce((r,t)=>(t in e&&(r[t]=e[t]),r),{})}},function(e,r){e.exports=require("assert")},function(e,r,t){const n=t(1).default,o=t(8).default,u=t(10).default,{object2error:i}=t(0),a=["NaN","Infinity","-Infinity"];r.createDecomposer=function(e,r){return function t(c){if("object"!=typeof c||null===c)return c;if(!r(c))return Array.isArray(c)?c.map(t):o(c)===Object?u(c).reduce((e,r)=>(e[r]=t(c[r]),e),{}):c;{let{type:r,value:o}=e(c);try{switch(r){case"Boolean":return new Boolean(o);case"Number":return a.includes(o)?Number(o):new Number(o);case"BigInt":return BigInt(o);case"String":return new String(o);case"Date":return new Date(o);case"RegExp":{let e=o.lastIndexOf("/"),r=o.slice(1,e),t=o.slice(e+1);return new RegExp(r,t)}case"Map":return new Map(t(o));case"Set":return new Set(t(o));case"Error":return i(o);case"ArrayBuffer":return Uint8Array.from(o).buffer;case"DataView":return new DataView(Uint8Array.from(o).buffer);case"Buffer":return"function"==typeof Buffer?Buffer.from(o):Uint8Array.from(o);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float32Array":case"Float64Array":return n(r).from(o);default:return c}}catch(e){return c}}}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(9);r.default=function(e){if(0===arguments.length)throw new TypeError("1 argument is required, 0 given");if(n.default(e))return"void";let r=typeof e;return"function"===r?"class"===String(e).slice(0,5)?"class":"function":"object"===r?"[object Arguments]"===Object.prototype.toString.call(e)?"arguments":e.constructor||Object:r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return null==e||Object.is(e,NaN)}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){return Array.isArray(e)?Object.keys(e).map(Number):Reflect.ownKeys(e)}}])}));
//# sourceMappingURL=structured-clone.min.js.map