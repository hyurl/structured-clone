!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.StructuredClone=r():e.StructuredClone=r()}(this,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=1)}([function(e,r,t){var n;const o=/^\[\[[A-Z][a-zA-Z0-9_]+\]\]$/;try{n=t(3).AssertionError}catch(e){}var i;void 0===i&&("object"==typeof global?i=global:"object"==typeof window&&(i=window));r.isTypedClone=function(e){return 2===e.length&&"string"==typeof e[0]&&o.test(e[0])},r.cloneError=function(e){return Object.assign({name:e.name,message:e.message,stack:e.stack},e)},r.decloneError=function(e){let r,t=["name","message","stack"];r="AssertionError"===e.name&&n?Object.create(n.prototype):Object.create((i[e.name]||Error).prototype);Object.defineProperties(r,{message:{value:e.message,configurable:!0,writable:!0},stack:{value:e.stack,configurable:!0,writable:!0}});for(let n in e)t.includes(n)||(r[n]=e[n]);return r}},function(e,r,t){r.clone=t(2).clone,r.declone=t(4).declone},function(e,r,t){const{cloneError:n}=t(0);function o(e){for(;null!=e&&"function"==typeof e.toJSON;)e=e.toJSON();return e}r.clone=function e(r,t=!1,i=[]){let a=typeof r;"function"!==a||t||(r=o(r),a=typeof r);if(null==r||"function"===a||"symbol"===a)return null===r?null:void 0;if("bigint"===a)return t?r:["[[BigInt]]",String(r)];if("number"===a)return isNaN(r)||!isFinite(r)?t?r:["[[Number]]",String(r)]:r;if("object"===a){if(i.includes(r))return;if(i=[...i,r],r instanceof Date)return t?r:["[[Date]]",r.toISOString()];if(r instanceof RegExp)return t?r:["[[RegExp]]",String(r)];if(r instanceof Error)return t?r:["[[Error]]",e(n(r))];if(r instanceof Map){let n=t?new Map:[];for(let[o,a]of r)o=e(o,t,i),void 0!==o&&(a=e(a,t,i),t?n.set(o,a):n.push([o,a]));return t?n:["[[Map]]",n]}if(r instanceof Set){let n=t?new Set:[];for(let o of r)o=e(o,t,i),void 0!==o&&(t?n.add(o):n.push(o));return t?n:["[[Set]]",n]}if(r instanceof ArrayBuffer)return t?r:["[[ArrayBuffer]]",[...new Uint8Array(r)]];if(r instanceof DataView)return t?r:["[[DataView]]",[...new Uint8Array(r.buffer)]];if(ArrayBuffer.isView(r))return t?r:[`[[${r.constructor.name}]]`,[...r]];if(t||"object"==typeof(r=o(r))){if(Array.isArray(r)){let n=[];for(let o=0,a=r.length;o<a;++o)n.push(e(r[o],t,i));return n}{let n=Object.getPrototypeOf(r);if(t&&null!==n&&n.constructor!==Object)return r;{let o=Object.create(n);for(let n in r)if(Object.prototype.hasOwnProperty.call(r,n)){let a=e(r[n],t,i);void 0!==a&&(o[n]=a)}return o}}}return e(r)}return r}},function(e,r){e.exports=require("assert")},function(e,r,t){const{isTypedClone:n,decloneError:o}=t(0);var i;void 0===i&&("object"==typeof global?i=global:"object"==typeof window&&(i=window));function a(e){if("object"!=typeof e||null===e)return e;if(!Array.isArray(e)){let r={};for(let t in e)r[t]=a(e[t]);return r}if(!n(e))return u(e);{let[r,t]=e;try{switch(r){case"[[BigInt]]":return BigInt(t);case"[[Number]]":return Number(t);case"[[Date]]":return new Date(t);case"[[RegExp]]":{let[e,r]=t.slice(1).split("/");return new RegExp(e,r)}case"[[Error]]":return o(t);case"[[Map]]":return new Map(a(t));case"[[Set]]":return new Set(a(t));case"[[ArrayBuffer]]":return Uint8Array.from(t).buffer;case"[[DataView]]":return new DataView(Uint8Array.from(t).buffer);case"[[Buffer]]":case"[[Int8Array]]":case"[[Uint8Array]]":case"[[Uint8ClampedArray]]":case"[[Int16Array]]":case"[[Uint16Array]]":case"[[Int32Array]]":case"[[Uint32Array]]":case"[[BigInt64Array]]":case"[[BigUint64Array]]":case"[[Float32Array]]":case"[[Float64Array]]":return r=r.slice(2,-2),i[r].from(t);default:return e}}catch(r){return u(e)}}}function u(e){let r=[];for(let t=0,n=e.length;t<n;++t)r.push(a(e[t]));return r}r.declone=a}])}));
//# sourceMappingURL=structured-clone.min.js.map