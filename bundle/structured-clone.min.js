!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.StructuredClone=t():e.StructuredClone=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){const n=r(5).default,o=r(1).default;var u;try{u=r(6).AssertionError}catch(e){}t.error2object=function(e){return Object.assign(n(e,["name","message","stack"]),e)},t.object2error=function(e){let t,r=["name","message","stack"];t="AssertionError"===e.name&&u?Object.create(u.prototype):Object.create((o(e.name)||Error).prototype);Object.defineProperties(t,{message:{value:e.message,configurable:!0,writable:!0},stack:{value:e.stack,configurable:!0,writable:!0}});for(let n in e)r.includes(n)||(t[n]=e[n]);return t},t.walkToJSON=function(e){for(;null!=e&&"function"==typeof e.toJSON;)e=e.toJSON();return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t;return"object"==typeof globalThis?t=globalThis:"object"==typeof self?t=self:"object"==typeof global?t=global:"object"==typeof window&&(t=window),t&&(e?t[e]:t)}},function(e,t,r){r(3);const{createComposer:n}=r(4),{createDecomposer:o}=r(7),u=/^\[\[[A-Z][a-zA-Z0-9_]+\]\]$/;Object.assign(t,{createComposer:n,createDecomposer:o}),t.compose=t.clone=n((e,t)=>[`[[${e}]]`,t]),t.decompose=t.declone=o(e=>({type:String(e[0]).slice(2,-2),value:e[1]}),e=>Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&u.test(e[0])),t.serialize=function(e){return JSON.stringify(t.compose(e))},t.deserialize=function(e){return t.decompose(JSON.parse(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,r){const{error2object:n,object2error:o,walkToJSON:u}=r(0);t.createComposer=function(e){return function t(r,o=!1,i=[]){let a=typeof r;if("function"!==a||o||(a=typeof(r=u(r))),null==r||"function"===a||"symbol"===a)return null===r?null:void 0;if("bigint"===a)return o?r:e("BigInt",String(r));if("number"===a)return isNaN(r)||!isFinite(r)?o?r:e("Number",String(r)):r;if("object"===a){if(i.includes(r))return;if(r instanceof Boolean)return o?r:e("Boolean",r.valueOf());if(r instanceof Number)return o?r:e("Number",r.valueOf());if(r instanceof String)return o?r:e("String",r.valueOf());if(r instanceof Date)return o?r:e("Date",r.toISOString());if(r instanceof RegExp)return o?r:e("RegExp",String(r));if(r instanceof ArrayBuffer)return o?r:e("ArrayBuffer",[...new Uint8Array(r)]);if(r instanceof DataView)return o?r:e("DataView",[...new Uint8Array(r.buffer)]);if(ArrayBuffer.isView(r))return o?r:e(r.constructor.name,[...r]);if(r instanceof Map){let n=o?new Map:[];return r.forEach((e,u)=>{void 0!==(u=t(u,o,[...i,r]))&&(e=t(e,o,[...i,r]),o?n.set(u,e):n.push([u,e]))}),o?n:e("Map",n)}if(r instanceof Set){let n=o?new Set:[];return r.forEach(e=>{void 0!==(e=t(e,o,[...i,r]))&&(o?n.add(e):n.push(e))}),o?n:e("Set",n)}if(r instanceof Error)return e("Error",t(n(r),o,[...i,r]));if(o||"object"==typeof(r=u(r))){if(Array.isArray(r))return r.map(e=>t(e,o,[...i,r]));{let e=Object.getPrototypeOf(r);return o&&null!==e&&e!==Object.prototype?r:Object.keys(r).reduce((e,n)=>{let u=t(r[n],o,[...i,r]);return void 0!==u&&(e[n]=u),e},{})}}return t(r,o,[...i,r])}return r}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return Array.isArray(e)?t.map(t=>e[t]):t.reduce((t,r)=>(r in e&&(t[r]=e[r]),t),{})}},function(e,t){e.exports=require("assert")},function(e,t,r){const n=r(1).default,o=r(8).default,u=r(11).default,{object2error:i}=r(0),a=["NaN","Infinity","-Infinity"];t.createDecomposer=function(e,t){return function r(c){if("object"!=typeof c||null===c)return c;if(!t(c))return Array.isArray(c)?c.map(r):o(c)===Object?u(c).reduce((e,t)=>(e[t]=r(c[t]),e),{}):c;{let{type:t,value:o}=e(c);try{switch(t){case"Boolean":return new Boolean(o);case"Number":return a.includes(o)?Number(o):new Number(o);case"BigInt":return BigInt(o);case"String":return new String(o);case"Date":return new Date(o);case"RegExp":{let e=o.lastIndexOf("/"),t=o.slice(1,e),r=o.slice(e+1);return new RegExp(t,r)}case"Map":return new Map(r(o));case"Set":return new Set(r(o));case"Error":return i(o);case"ArrayBuffer":return Uint8Array.from(o).buffer;case"DataView":return new DataView(Uint8Array.from(o).buffer);case"Buffer":return"function"==typeof Buffer?Buffer.from(o):Uint8Array.from(o);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"BigInt64Array":case"BigUint64Array":case"Float32Array":case"Float64Array":return n(t).from(o);default:return c}}catch(e){return c}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(9),o=r(10);t.default=function(e){if(0===arguments.length)throw new TypeError("1 argument is required, 0 given");if(n.default(e))return"void";let t=typeof e;return"function"===t?o.default(e)?"class":"function":"object"===t?"[object Arguments]"===Object.prototype.toString.call(e)?"arguments":e.constructor||Object:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null==e||Object.is(e,NaN)}},function(e,t,r){"use strict";function n(e){if("function"!=typeof e)return!1;if(void 0===e.prototype)return!1;if(e.prototype.constructor!==e)return!1;if(Object.getOwnPropertyNames(e.prototype).length>=2)return!0;var t=String(e);if("class"==t.slice(0,5))return!0;if(/^function\s*\(|^function anonymous\(/.test(t))return!1;var r=/(call|apply|_classCallCheck)\(this(, arguments)?\)|\bthis(.\S+|\[.+?\])\s*(=|\()|=\s*this[,;]/.test(t);return!(!/^function\s+[A-Z]/.test(t)||!(r||/\[native code\]/.test(t)&&"BigInt"!==e.name&&"Symbol"!==e.name))||!(!r||"default_1"!==e.name)}t.couldBeClass=n,t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Array.isArray(e)?Object.keys(e).map(Number):Reflect.ownKeys(e)}}])}));
//# sourceMappingURL=structured-clone.min.js.map